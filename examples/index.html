<!DOCTYPE html>
<html>
<head>
    <title>Calendula</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="../source/calendula.dev.css" />
    <script src="../source/calendula.dev.js"></script>
    <style>
        #api-methods
        {
            position: absolute;
            left: 20px;
            top: 20px;
        }
        
        #example
        {
            position: absolute;
            left: 30%;
            top: 100px;
        }
        
        .page_theme_normal
        {
            background-color: none;
            color: #000;
        }
        
        .page_theme_black
        {
            background-color: black;
            color: #fff;
        }
    </style>
</head>
<body class="page_theme_normal">

    <div id="api-methods">
        <input type="button" value="open" id="cl-open" />
        <input type="button" value="close" id="cl-close" />
        <input type="button" value="toggle" id="cl-toggle" />
        <input type="button" value="destroy" id="cl-destroy" />
        <br /><br />
        theme: <select id="cl-theme" autocomplete="off">
            <option value="normal">normal</option>
            <option value="black">black</option>
        </select><br />
        
        lang: <select id="cl-lang" autocomplete="off">
            <option value="ru">ru</option>
            <option value="en">en</option>
            <option value="be">be</option>
            <option value="uk">uk</option>
            <option value="tr">tr</option>
        </select>
    </div>
    
    <div id="example">
        <button id="example-button" class="calendula-selector">
            <span class="calendula-selector__text"></span>&thinsp;<span class="calendula-selector__arrow" style="display: inline-block; transform: rotate(90deg)">&#9656;</span>
        </button>
    </div>
    
    <script>
    (function() {
        var clOpen = document.getElementById('cl-open'),
            clClose = document.getElementById('cl-close'),
            clToggle = document.getElementById('cl-toggle'),
            clDestroy = document.getElementById('cl-destroy'),
            button = document.getElementById('example-button'),
            clTheme = document.getElementById('cl-theme'),
            clLang = document.getElementById('cl-lang'),
            cl = new Calendula({
                value: new Date(),
                linkTo: button,
                onselect: function(e, value) {
                    updateButton();
                }
            }),
            updateButton = function() {
                button.querySelector('.calendula-selector__text').innerHTML = cl._buttonText();
            };
            
        cl.open();
        updateButton();
        
        button.addEventListener('click', function() {
            cl.toggle();
        }, false);
        
        clTheme.addEventListener('change', function() {
            cl.setTheme(this.value);
            document.body.className = 'page_theme_' + this.value;
        }, false);

        clLang.addEventListener('change', function() {
            cl.setLang(this.value);
        }, false);

        clOpen.addEventListener('click', function() {
            cl.open();
        }, false);
        
        clClose.addEventListener('click', function() {
            cl.close();
        }, false);
        
        clToggle.addEventListener('click', function() {
            cl.toggle();
        }, false);
        
        clDestroy.addEventListener('click', function() {
            cl.destroy();
        }, false);
    })();
    </script>
</body>
</html>